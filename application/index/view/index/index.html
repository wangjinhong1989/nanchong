
<script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=Zm3ag8nnrp2tLiNvTYGE7llV3OLZEq04"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?type=webgl&v=1.0&ak=Zm3ag8nnrp2tLiNvTYGE7llV3OLZEq04"></script>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

</head>

<body style="background-color: #e0e5df;">


    <style type="text/css">
        #container{width:  100%;margin: 0 auto;height: 500px;}
    </style>

    <div id="container">test</div>
<script>

// var map = new BMap.Map("container");          // 创建地图实例
// var point = new BMap.Point(106.08, 30.78);  // 创建点坐标
// map.centerAndZoom(point, 15);
// map.enableScrollWheelZoom(true);
//
// map.setCurrentCity("四川省南充市"); // 仅当设置城市信息时，MapTypeControl的切换功能才能可用


var map = new BMap.Map("container",{minZoom : 9, maxZoom : 18 });
map.centerAndZoom(new BMap.Point(106.196842,31.190158), 9);

addMarker(new BMap.Point(106.196842,31.190158),1);



map.enableScrollWheelZoom();
map.setMapStyle({style:'googlelite'});
var cityName = '四川省南充市';
map.addControl(new BMap.OverviewMapControl());
map.enableScrollWheelZoom();
var bdary = new BMap.Boundary();
bdary.get(cityName, function (rs) {
var EN_JW = "180, 90;";
var NW_JW = "-180, 90;";
var WS_JW = "-180, -90;";
var SE_JW = "180, -90;";
// //4.添加环形遮罩层
var ply1 = new BMap.Polygon(rs.boundaries[0] + SE_JW + SE_JW + WS_JW + NW_JW + EN_JW + SE_JW, { strokeColor: "none",fillColor: "#e0e5df", fillOpacity:1, strokeOpacity: 1 });
map.addOverlay(ply1);
});


function addMarker(point, index){  // 创建图标对象
    var myIcon = new BMap.Icon("1.gif", new BMap.Size(23, 25), {
        // 指定定位位置。
        // 当标注显示在地图上时，其所指向的地理位置距离图标左上
        // 角各偏移10像素和25像素。您可以看到在本例中该位置即是
        // 图标中央下端的尖角位置。
        anchor: new BMap.Size(10, 25),
        // 设置图片偏移。
        // 当您需要从一幅较大的图片中截取某部分作为标注图标时，您
        // 需要指定大图的偏移位置，此做法与css sprites技术类似。
        imageOffset: new BMap.Size(0, 0 - index * 25)   // 设置图片偏移
    });
    // 创建标注对象并添加到地图
    var marker = new BMap.Marker(point, {icon: myIcon});
    map.addOverlay(marker);
}

</script>

</body>



</html>
