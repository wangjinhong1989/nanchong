
<script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=Zm3ag8nnrp2tLiNvTYGE7llV3OLZEq04"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?type=webgl&v=1.0&ak=Zm3ag8nnrp2tLiNvTYGE7llV3OLZEq04"></script>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

</head>

<body style="background-color: #e0e5df;">


    <style type="text/css">
        #container{width:  100%;margin: 0 auto;height: 500px;}
    </style>

    <div id="container">test</div>
<script>

// var map = new BMap.Map("container");          // 创建地图实例
// var point = new BMap.Point(106.08, 30.78);  // 创建点坐标
// map.centerAndZoom(point, 15);
// map.enableScrollWheelZoom(true);
//

var html="<p>这是自定义弹出层</p>";
var map = new BMap.Map("container",{minZoom : 9, maxZoom : 18 });
map.centerAndZoom(new BMap.Point(106.196842,31.190158), 9);

 var marker = new BMap.Marker(new BMap.Point(106.196842,31.190158));
map.addOverlay(marker);

map.setCurrentCity("四川省南充市"); // 仅当设置城市信息时，MapTypeControl的切换功能才能可用

var infoBox = new BMapLib.InfoBox(map,html.join(""),{
	boxStyle:{
	//	background:"url('tipbox.gif') no-repeat center top"
		width: "270px"
		,height: "300px"
	}
	,closeIconMargin: "1px 1px 0 0"
	,enableAutoPan: true

});
infoBox.open(marker);

map.enableScrollWheelZoom();
map.setMapStyle({style:'googlelite'});
var cityName = '四川省南充市';
map.addControl(new BMap.OverviewMapControl());
map.enableScrollWheelZoom();
var bdary = new BMap.Boundary();
bdary.get(cityName, function (rs) {
var EN_JW = "180, 90;";
var NW_JW = "-180, 90;";
var WS_JW = "-180, -90;";
var SE_JW = "180, -90;";
// //4.添加环形遮罩层
var ply1 = new BMap.Polygon(rs.boundaries[0] + SE_JW + SE_JW + WS_JW + NW_JW + EN_JW + SE_JW, { strokeColor: "none",fillColor: "#e0e5df", fillOpacity:1, strokeOpacity: 1 });
map.addOverlay(ply1);
});


</script>

</body>



</html>
